<div class=" relative">
    <!-- Background Dots  + Faded -->
    <div class="absolute -z-10 inset-0 bg-[radial-gradient(circle,_black_1px,_transparent_1px)] [background-size:3px_3px]"></div>
    <div class="absolute -z-10 inset-0 bg-gradient-to-b from-white/30 to-white"></div>
    <div class="relative min-w-screen min-h-screen flex">\

        <!-- Right Settings -->
        <div class="fixed z-10 left-0 bottom-0 flex flex-col h-full justify-end p-5 sm:p-10">
            <div class="h-max shadow-[4px_4px_0px_0px_#000000] rounded-lg text-black bg-white border-black border-2 p-1  cursor-pointer" >
                <img [routerLink]="['']" src="Icons/logo.svg" class="h-9 w-9 hover:scale-[0.95] transition-all">
                <div class="h-40 w-9 hover:scale-[0.95] transition-all"></div>
                @if(auth.sessions && auth.sessions.user.is_anonymous){
                    <img (click)="auth.sign_in_oauth()" alt="sign in" src="Icons/sign.svg" class="h-9 w-9 hover:scale-[0.95] transition-all" title="sign in">
                }@else {
                    <img (click)="auth.sign_out()" alt="sign out" [src]="auth.data()?.user.user_metadata.avatar_url" class="h-9 w-9 hover:scale-[0.95] transition-all rounded-lg">   
                }
            </div>
        </div>

        <!-- Central DashBorad  -->
        <div class="flex-1 flex">
            

            @if (removeIntro()) {
                <div class="flex-1 h-full flex flex-col justify-center items-center">
                    <div class="flex flex-col justify-center items-center">
                        <div class="w-11/12 md:w-8/12 lg:w-6/12 relative flex flex-col p-2 text-center mb-10">
                            <h2 class="font-semibold text-3xl mb-1 px-2">Ask anything</h2>
                            <p class="text-gray-700 text-sm px-2">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestiae, beatae! Numquam quis eius dicta, alias reprehenderit doloremque enim possimus perspiciatis atque temporibus quibusdam quas, nostrum impedit dignissimos blanditiis labore quidem.And one more feature to complete the picture.</p>
                            
                        </div>
                        
                        <div class="w-11/12 sm::w-8/12 lg:w-7/12 flex flex-col md:grid grid-cols-2 grid-rows-2 gap-4">
                            <!-- Left Card -->
                            <div class="row-span-2 bg-white rounded-lg p-2 flex flex-col border-black border-2">
                                <img src="images/Test.webp" alt="Card Image" class="aspect-video rounded-lg mb-2 object-cover">
                                <h2 class="font-semibold mb-1 px-2">Main Feature</h2>
                                <p class="text-gray-700 text-sm px-2">Discover our main feature, designed to provide the best experience.</p>
                            </div>
                            <!-- Right Top Card -->
                            <div class="bg-white rounded-xl p-2 flex flex-row border-black border-2">
                                <img src="images/wall.jpg" alt="Card Image" class="h-40 aspect-square rounded-lg object-cover">
                                <div class="flex flex-col p-2">
                                    <h2 class="font-semibold mb-1 px-2">Side Feature 1</h2>
                                    <p class="text-gray-700 text-sm px-2">A brief look at another great feature.</p>
                                    
                                </div>
                            </div>
                            <!-- Right Bottom Card -->
                            <div class="bg-white rounded-xl p-2 flex flex-row border-black border-2">
                                <img src="images/errorwallpaper.jpg" alt="Card Image" class="h-40 aspect-square rounded-lg object-cover">
                                <div class="flex flex-col p-2">
                                    <h2 class="font-semibold mb-1 px-2">Side Feature 2</h2>
                                    <p class="text-gray-700 text-sm px-2">And one more feature to complete the picture.</p>
                            
                                </div>
                            </div>
                        </div>

                        
                    </div>
                    <div class="flex gap-3 p-5 sm:p-10 ">
                        
                        <input
                        [ngModel]="MasterQuestion()" 
                        (ngModelChange)="MasterQuestion.set($event)"
                        (keydown.enter)="showMainSearchInput()"
                        type="text" class="font-light right-25 w-[50vw] p-5 h-10 rounded-lg bg-white border-black border-2 shadow-[4px_4px_0px_0px_#000000] focus:outline-0 px-5 pr-10" placeholder="Ask Anything !">
                        
                        <div class="shadow-[4px_4px_0px_0px_#000000] rounded-lg text-black bg-white border-black border-2 p-1  cursor-pointer" >
                            <img [src]="'Icons/search.svg'" class="h-8 hover:scale-[0.95] transition-all" (click)="showMainSearchInput()">
                        </div>
                    </div>
                </div>                
            }
            @else {
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-10/12 sm:w-11/12 lg:w-9/12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 py-10">
                        @for (item of Components(); track $index) {
                            
                            @if (item.type){
                                @switch (item.type) {
                                    @case ("FinalAnswer") {
                                        <app-main-answer-card 
                                        [Title] = "item.content.answer_title"
                                        [Content]="item.content.final_answer" 
                                        class="w-full"/>
                                    }
                                    @case ("Conversation") {
                                        @if (item.content.proceed2Orchestration == false) {
                                            <app-main-answer-card [Content]="item.content.conversation" class="w-full"/>
                                        }
                                        <!-- <app-news-cards class="col-span-3"/> -->
                                    }
                                    @case ("Summeries") {
                                        <app-summary-card 
                                        [SummaryTitle]="item.content.summary_title"
                                        [Summaries]="item.content.summeries"
                                        class="w-full"/>
                                    }
                                    @case ("Gaudrail") {
                                        @if(item.content > 3) {
                                            <app-error-card [ErrorIndex]="item.content" class="w-full"/>
                                        }
                                    }
                                    @case ("Redirection") {
                                        <app-error-card 
                                        [Redirection]="item.content.redirection_str" 
                                        [ErrorIndex]="item.content.gaurdrail_index" 
                                        class="w-full"/>
                                    }
                                    @case ("ZeroCard") {
                                        <app-zero-card/>
                                    }
                                    @case ("Error") {
                                        <app-model-error-card [e]="item.content" class="w-full" />
                                    }
                                    <!-- Need to Be Fixed  from herer > -->

                                    @case ("News") {
                                        <app-news-cards [NewscardItems]="item.content" class="w-full"/>
                                    }
                                    @case ("Media") {
                                        <app-link-images-card [ImageWithLinks]="item.content" class="w-full"/>
                                    }
                                    @case ("Gov") {
                                        <app-gov [Content]="item.content" class="w-full"/>
                                    }
                                    
                                }
                            }
                            @else {
                                <div class="text-sm text-gray-400">
                                    {{ item | json }}
                                </div>
                            }
                        }
                        <!-- @for (item of items; track $index) {} -->
                        <app-questioncard [progress]="progress" (messageEvent)="receiveMessage($event)" class="w-full"/>
                    </div>
                    </div>

                
            }
            
        </div>
            

            <!-- <div class="relative w-6/12 flex justify-center items-center mb-10">
                <input type="text" class=" p-5 h-10 w-full rounded-lg bg-white border-black border-2 shadow-[4px_4px_0px_0px_#000000] focus:outline-0 px-5 pr-10" [placeholder]="placeholder">
                <img src="Icons/search.svg" class="absolute z-10 right-2 h-9 w-9 hover:scale-[0.95] transition-all">
            </div> -->
            
        <!-- </div> -->
        <!-- Left Menu  -->
        <!-- <div class="fixed right-0 bottom-0 flex flex-col h-full justify-end p-5 sm:p-10 ">
            @if (Searching()) {
                <input 
                [ngModel]="MasterQuestion()" 
                (ngModelChange)="MasterQuestion.set($event)"
                (keydown.enter)="showMainSearchInput()"
                type="text" class="absolute font-light right-25 w-[50vw] p-5 h-10 rounded-lg bg-white border-black border-2 shadow-[4px_4px_0px_0px_#000000] focus:outline-0 px-5 pr-10" placeholder="Ask Anything !">
            }
            <div class=" shadow-[4px_4px_0px_0px_#000000] rounded-lg text-black bg-white border-black border-2 p-1  cursor-pointer" >
                <img [src]="Searching() === false ? 'Icons/add.svg' : 'Icons/search.svg'" class="h-8 hover:scale-[0.95] transition-all" (click)="showMainSearchInput()">
            </div>
        </div> -->
    </div>
    
</div>
